/* VAR */

@c-page: lighten(desaturate(@thered, 90%), 35%);
@c-navbar: @thered;
@c-boxshadow: darken(@thered, 35%);
@c-stroke: darken(desaturate(@thered, 90%), 5%);

@h-navbar: 10%;
@h-carousel: 35%;
@nr-col-footer: 4;
@nr-row-menu: 3;
@nr-col-menu: 2;
@thered: #D95041;

/* CLASS */
.reset-tap() {
  -webkit-tap-highlight-color: rgba(255,255,255,0);
  -webkit-appearance: none;
}

.position(@pos: absolute; @height: 100%; @width: 100%) {
  position: @pos;
  height: @height;
  width: @width;
}

.row(@height) {
  .position(relative; @height);
}

.col(@width; @float: left) {
  .position(relative; 100%; @width);
  float: @float;
}

.bg-set(@pos: center; @size: contain; @rep: no-repeat) {
  background-repeat: @rep;
  background-size: @size;
  background-position: @pos @pos;
}

.bg-img(@img; @format: svg) {
  background-image: url('/images/@{img}.@{format}');
}

.transition(@attr; @t: 0.2s; @mode: ease) {
  transition: @attr @t @mode;
  -webkit-transition: @attr @t @mode;
}

/* GLOBAL */

html, body {
  margin: 0;
  padding: 0;
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  font: 20px Helvetica, Tahoma, Arial, STXihei, "华文细黑", "Microsoft YaHei", "微软雅黑", SimSun, "宋体", Heiti, "黑体", sans-serif;
}
div { box-sizing: border-box; }

/* HEADER & FOOTER */

header, footer {
  .position(fixed; @h-navbar);
  .reset-tap;
  z-index: 10;
}

header {
  display: table-cell;
  background: @c-navbar;
  top: 0;
  .col {
    &:first-child {
      .col(16%);
    }
    &:last-child {
      .col(16%; right);
      .bg-set;
      .bg-img(more);
    }
  }
  .title {
    .position(absolute; 100%; 68%);
    display: table;
    left: 16%;
    color: @c-page;
    span {
      text-align: center;
      display: table-cell;
      vertical-align: middle;
      letter-spacing: 0.1em;
    }
  }
}

footer {
  background: @c-page;
  border-top: 1pt solid @c-stroke;
  bottom: 0;
  &.hidden {
    bottom: -@h-navbar;
    .transition(bottom);
  }
  .col {
    .col(100% / @nr-col-footer);
    .bg-set;
    &:first-child {
      .bg-img(home);
      &.active { .bg-img(home-active); }
    }
    &:nth-child(2) {
      .bg-img(surround);
      &.active { .bg-img(surround-active); }
    }
    &:nth-child(3) {
      .bg-img(compass);
      &.active { .bg-img(compass-active); }
    }
    &:nth-child(4) {
      .bg-img(here);
      &.active { .bg-img(here-active); }
    }
  }
}

/* PAGE */

.tab {
  .position(fixed);
  display: none;
  background: @c-page;
  &.active { display: block; }
  .page {
    .position(fixed);
    display: none;
    background: @c-page;
    overflow-y: auto;
    overflow-x: hidden !important;
    &::-webkit-scrollbar { width: 0 !important; }
    &.active { display: block; }
    .carousel {
      .position(absolute; @h-carousel);
      top: @h-navbar;
      .ad {
        display: none;
        .position(absolute);
        .bg-set(center; 100% 100%);
        .transition(left);
        &:first-child {
          .bg-img(ad-1; jpg);
        }
        &:nth-child(2) {
          .bg-img(ad-2; jpg);
        }
        &:nth-child(3) {
          .bg-img(ad-3; jpg);
        }
        &:nth-child(4) {
          .bg-img(ad-4; jpg);
        }
        &:nth-child(5) {
          .bg-img(ad-5; jpg);
        }
        &.active {
          display: block;
          left: 0;
        }
        &.prev {
          display: block;
          left: -100%;
        }
        &.next {
          display: block;
          left: 100%;
        }
      }
    }
    .menu {
      .position(absolute; 100% - 2 * @h-navbar - @h-carousel);
      top: @h-navbar + @h-carousel;
      .row {
        .row(100% / @nr-row-menu);
        .col {
          .col(100% / @nr-col-menu);
          .bg-set;
        }
        &:first-child {
          .col {
            &:first-child {
            }
            &:nth-child(2) {
            }
            &:nth-child(3) {
            }
          }
        }
        &:nth-child(2) {
          .col {
            &:first-child {
            }
          }
        }
      }
    }
    .list-doctor {
      .position(absolute);
      top: @h-navbar;
      .entry {
        height: 20%;
        border-bottom: 1px solid @c-stroke;
        &:last-child {
          border-bottom: none;
        }
      }
    }
  }
}
