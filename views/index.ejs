<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>TOURHINT</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
    <meta name='apple-mobile-web-app-capable' content='yes'>
    <meta name='description' content=''>
    <meta name='author' content=''>
    <link rel='stylesheet' href='/stylesheets/style.css' />
</head>
<body>
<header>
    <div class='col'><div class='icon-left' data-target='page-home'></div></div>
    <div class='title'><span>曙光医院眼科</span></div>
    <div class='col'></div>
</header>
<div class='container'>
    <div class='tab active'>
        <div class='page active' data-role='page-home'>
            <ul class='carousel'>
                <li class='ad active'></li>
                <li class='ad next'></li>
                <li class='ad'></li>
                <li class='ad'></li>
                <li class='ad prev'></li>
            </ul>
            <div class='menu'>
                <div class='row'>
                    <div class='col' data-target='page-doctor'></div>
                    <div class='col'></div>
                </div>
                <div class='row'>
                    <div class='col'></div>
                    <div class='col'></div>
                </div>
                <div class='row'>
                    <div class='col'></div>
                    <div class='col'></div>
                </div>
            </div>
        </div>
        <div class='page' data-role='page-doctor'>
            <ul class='list-doctor'>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>缪晚虹</span><div class='annotation'><span class='admin'>主任医师</span><span class='academic'>博士生导师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>任建平</span><div class='annotation'><span class='admin'>副主任医师</span><span class='academic'>硕士生导师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>朱雅琴</span><div class='annotation'><span class='admin'>副主任医师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>张明德</span><div class='annotation'><span class='admin'>副主任医师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>邹红</span><div class='annotation'><span class='admin'>主治医师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>俞莹</span><div class='annotation'><span class='admin'>主治医师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>潘雅婕</span><div class='annotation'><span class='admin'>主治医师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>赵峰</span><div class='annotation'><span class='admin'>住院医师</span></div></div></div>
                </li>
                <li class='entry'>
                    <div class='col'><div class='thumbnail'></div></div>
                    <div class='col right'><div class='text'><span>石晶玲</span><div class='annotation'><span class='admin'>住院医师</span></div></div></div>
                </li>
            </ul>
        </div>
    </div>
    <div class='tab'></div>
    <div class='tab'></div>
    <div class='tab'></div>
</div>
<footer>
    <div class='col active'></div>
    <div class='col'></div>
    <div class='col'></div>
    <div class='col'></div>
</footer>
</body>
<script src='/javascripts/jquery.min.js'></script>
<script>
    !function($) {
        $('footer>.col').bind('click',function(e) {
            var ele = $(this)
                    , i = ele.index();
            if (!ele.hasClass('active')) {
                $(this).addClass('active').siblings().removeClass('active');
                $('.tab').eq(i).addClass('active').siblings().removeClass('active');
            }
            e.preventDefault();
        });
        $('.menu>.row>.col').bind('click',function(e) {
            var ref = $(this).attr('data-target'),
                    tar = $('.page[data-role='+ref+']');
            if(ref&&!tar.hasClass('active')) {
                $('footer').addClass('hidden');
                tar.addClass('active').scrollTop(0).siblings().removeClass('active');
                $('header>.col:first-child>.icon-left').addClass('active');
            }
            e.preventDefault();
        });
        $('header>.col:first-child>.icon-left').bind('click',function(e) {
            var ref = $(this).attr('data-target'),
                    tar = $('.page[data-role='+ref+']');
            if(ref&&!tar.hasClass('active')) {
                $('footer').removeClass('hidden');
                tar.addClass('active').siblings().removeClass('active');
                $('header>.col:first-child>.icon-left').removeClass('active');
            }
            e.preventDefault();
        });
        setInterval(carousel,5000);
    }(window.jQuery);
    function carousel() {
        var active = $('.carousel').find('.active'),
            prev = active.prev().addClass('prev'),
            next = active.next().addClass('next');
        if(active.parents('.page').hasClass('active')) {
            if(!prev.length>0){ prev = active.siblings().last() }
            if(!next.length>0){ next = active.siblings().first() }

            prev.removeClass('prev');
            active.removeClass('active').addClass('prev');
            next.removeClass('next').addClass('active');
            if(!next.next().length>0){ active.siblings().first().addClass('next') } else { next.next().addClass('next') }
        }
    }
</script>
</html>